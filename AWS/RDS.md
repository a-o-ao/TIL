# Amazon RDS

## 読み取りパフォーマンスの向上

- リードレプリカを利用して読み取り専用の負荷を分散
- 読み取り処理が一部のクエリに集中している場合はキャッシュを利用

※リードレプリカは非同期的にレプリケートされる個別のデータベースインスタンスであるため、 レプリケーションデータが遅れることがあり、最新のトランザクションのいくつかが表示できない可能性があります。これをレプリケーションラグといいます。

## ストレージタイプ

通常は gp3 がコストとパフォーマンスのバランスが良く、高性能が必要なら io2 を選ぶのが一般的です。

| ストレージタイプ                         | 特徴 |
|--------------------------------|------------------------------------------------------------------|
| **汎用SSD（gp2, gp3）**         | コストパフォーマンスが良く、標準的なワークロード向け。gp3はIOPSとスループットを柔軟に設定可能。 |
| **プロビジョンドIOPS SSD（io1, io2）** | 高いIOPSを必要とするアプリ向け。データベースや高負荷ワークロードに適している。 |
| **マグネティック（標準）**        | 旧世代のストレージ。低コストだがパフォーマンスが低いため、推奨されない。 |

## インスタンスタイプ

| カテゴリ           | インスタンスタイプ | 特徴 |
|------------------|-----------------|--------------------------------------------------|
| **汎用（バースト可能）** | db.t3, db.t4g     | コスト効率が良く、小規模なDBや開発環境向け。 |
| **汎用（スタンダード）** | db.m5, db.m6g     | バランスの取れた性能で、中規模ワークロード向け。 |
| **メモリ最適化**     | db.r5, db.r6g     | メモリ集約型ワークロード（DB、分析）向け。 |
| **X1/X2シリーズ**   | db.x2idn, db.x2iedn | 超大容量メモリが必要なDB向け（SAP HANAなど）。 |
| **ストレージ最適化**   | db.i3, db.i4g     | 高速なローカルストレージが必要なDB向け。 |

### EC2とRDSのインスタンスタイプの違い
- RDSでは`「db.」プレフィックス`が付く（例: db.m5.large）。
- 一部のEC2インスタンス（c5などCPU最適化型）は、RDSではサポートされていない。
- RDSでは自動管理機能（バックアップ・フェイルオーバー）が組み込まれているため、EC2とは異なる最適化がされている。

RDS用のインスタンスタイプを選ぶ際は、ワークロードに応じて db.m（汎用）や db.r（メモリ最適化）を選択するのが一般的です。

