# AWS Lambda

## VPC アクセス（VPC 接続）

VPC アクセスを設定するとどうなる？

|項目 | 内容|
|----|----|
|接続先 | Lambda 関数は指定した VPC のプライベートサブネットに接続される|
|ENI（Elastic Network Interface） | Lambda 実行時に ENI（ネットワークインターフェース）が作成され、そのサブネット・セキュリティグループ経由で通信する|
|使えるリソース | RDS, Redshift, ElastiCache など、VPC 内のプライベートリソースに接続可能|
|インターネットアクセス | NAT Gateway などを通じてでないとインターネットには出られない（プライベートサブネットにいるため）|
|起動時間（コールドスタート） | VPC 設定ありの場合、ENI の割り当てにより コールドスタート時間が長くなる傾向あり（※改善済みの側面も）|

###  VPCアクセスなし vs ありの比較

|項目 | VPCアクセスなし | VPCアクセスあり|
|----|----|----|
|インターネット接続 | 直接可能 | NAT Gateway 経由が必要|
|VPC内リソース接続 | 不可 | 可能|
|コールドスタート | より早い | やや遅くなる場合あり（改善あり）|
